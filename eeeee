variable "bank_internet_proxy_ip" {
  type = list(string)
  
  validation {
    condition = alltrue([
      for ip in var.bank_internet_proxy_ip : can(cidrhost("${ip}/32", 0))
    ])
    error_message = "Each value in bank_internet_proxy_ip must be a valid IPv4 address (e.g., 192.168.0.1)."
  }
}


for ip in var.bank_internet_proxy_ip loops through each IP.

"${ip}/32" converts it to a valid CIDR (if it is an IPv4 address).

can(cidrhost(...)) returns true if it's a valid CIDR.

alltrue([...]) ensures all IPs pass the check.
