In your pipeline:

Trigger pipeline on changes to image builder files or manually

Use Terraform tasks for:

terraform init

terraform plan

terraform apply

Use service connection for authentication to Azure

Optionally tag or version image on successful creation

Azure DevOps Example YAML

trigger:
  branches:
    include:
      - main

stages:
  - stage: BuildImage
    jobs:
      - job: TerraformApply
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - task: TerraformInstaller@1
            inputs:
              terraformVersion: 'latest'

          - script: |
              terraform init
              terraform plan
              terraform apply -auto-approve
            displayName: 'Run Terraform'
